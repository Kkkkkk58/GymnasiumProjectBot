# -*- coding: utf-8 -*-
from aiogram.types import CallbackQuery, ParseMode
from main import bot, dp
from aiogram import types
import keyboards
from database import SqLighter

db=SqLighter('database.db')

@dp.message_handler(commands = ['start'])
async def welcome_message(message: types.Message):
    photo = open('images/001.jpg', 'rb')
    caption = f"<b>–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {message.from_user.first_name} {message.from_user.last_name}!</b>\n–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–æ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–π –≥–∏–º–Ω–∞–∑–∏–∏ ‚Ññ1 –∏–º.–í.–ì.–ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ –≥.–ü–µ–Ω–∑—ã"
    await bot.send_photo(message.chat.id, photo, caption, reply_markup=keyboards.welcome)

@dp.callback_query_handler(text='welcome:about_me')
async def about_me(call: CallbackQuery):
    photo = open('images/002.jpg', 'rb')
    caption = f"–Ø - <b>–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≥–∏–º–Ω–∞–∑–∏—è ‚Ññ1 –∏–º. –í.–ì. –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ</b>, —Ä–æ–¥–∏–ª–∞—Å—å –≤ –≥–æ—Ä–æ–¥–µ –ü–µ–Ω–∑–µ –≤ —Ç—É–º–∞–Ω–Ω–æ–π 235-–ª–µ—Ç–Ω–µ–π –¥–∞–ª–∏ –ø–æ –≤—ã—Å–æ—á–∞–π—à–µ–º—É —É–∫–∞–∑—É —Ü–∞—Ä—Å—Ç–≤—É—é—â–µ–π —Ç–æ–≥–¥–∞ –æ—Å–æ–±—ã –ï–∫–∞—Ç–µ—Ä–∏–Ω—ã –ê–ª–µ–∫—Å–µ–µ–≤–Ω—ã, –æ—Å—Ç–∞–≤—à–µ–π—Å—è –≤ –ø–∞–º—è—Ç–∏ –Ω–∞—Ä–æ–¥–Ω–æ–π –ø–æ–∫—Ä–æ–≤–∏—Ç–µ–ª—å–Ω–∏—Ü–µ–π –Ω–∞—É–∫ –∏ –∏—Å–∫—É—Å—Å—Ç–≤."
    await call.bot.send_photo(call.message.chat.id, photo, caption, reply_markup=keyboards.aboutme_1)

@dp.callback_query_handler(text='welcome:contacts')
async def contacts(call: CallbackQuery):
    text = '–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ:'
    await bot.send_message(call.message.chat.id, text=text, reply_markup=keyboards.contacts)

@dp.callback_query_handler(text='welcome:news')
async  def sub_news(call: CallbackQuery):
    text = '–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É –Ω–æ–≤–æ—Å—Ç–µ–π, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ —Å–æ–±—ã—Ç–∏–π, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏—Ö –≤ –≥–∏–º–Ω–∞–∑–∏–∏\n–ù–∞–∂–º–∏—Ç–µ /subscribe, —á—Ç–æ–±—ã –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è,\n/unsubscribe, —á—Ç–æ–±—ã –æ—Ç–ø–∏—Å–∞—Ç—å—Å—è'
    await bot.send_message(call.message.chat.id, text=text, reply_markup=keyboards.subscription)

@dp.callback_query_handler(text_contains='backtocontacts')
async def back_to_contacts(call: CallbackQuery):
    text = '–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω–æ–µ:'
    await call.message.edit_text(text=text, reply_markup=keyboards.contacts)

@dp.callback_query_handler(text='contacts:tel')
async def tel(call: CallbackQuery):
    text = f"<b>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</b>: (8-412) 66-09-10"
    await call.message.edit_text(text=text, reply_markup=keyboards.back_to_contacts)

@dp.callback_query_handler(text='contacts:email')
async def email(call: CallbackQuery):
    text = f"**E-mail**: `school01@guoedu.ru` "
    await call.message.edit_text(text=text, parse_mode=ParseMode.MARKDOWN, reply_markup=keyboards.back_to_contacts )

@dp.callback_query_handler(text='contacts:address')
async def address(call: CallbackQuery):
    text = f"<b>–ù–∞—à –∞–¥—Ä–µ—Å</b>: 440026. –≥. –ü–µ–Ω–∑–∞, —É–ª. –ö—Ä–∞—Å–Ω–∞—è, 54"
    await call.message.edit_text(text=text, reply_markup=keyboards.address)

@dp.callback_query_handler(text='address:map')
async def address_map(call: CallbackQuery):
    await bot.send_location(call.message.chat.id, latitude=53.185010, longitude=45.005417, reply_markup=keyboards.address_map)

@dp.callback_query_handler(text_contains="main")
async def welcome_message(call: CallbackQuery):
    photo = open('images/001.jpg', 'rb')
    caption = f"<b>–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é</b>"
    await bot.send_photo(call.message.chat.id, photo, caption, reply_markup=keyboards.welcome)

@dp.callback_query_handler(text='aboutme_1:continue_aboutme_1')
async def continue_1(call: CallbackQuery):
    text = f"–°–æ—Ö—Ä–∞–Ω—è—è –≤–Ω–µ—à–Ω–∏–µ —á–µ—Ä—Ç—ã –º–∏–Ω—É–≤—à–µ–≥–æ - —Å–≤–æ–¥—á–∞—Ç—ã–µ –æ–∫–Ω–∞ –∏ –ø–æ—Ç–æ–ª–∫–∏, –∫–æ–≤–∞–Ω–∞—è, —Å –∑–∞—Ç–µ–π–ª–∏–≤—ã–º–∏ —É–∑–æ—Ä–∞–º–∏, –ø–∞—Ä–∞–¥–Ω–∞—è –ª–µ—Å—Ç–Ω–∏—Ü–∞, —Å—Ç—Ä–æ–≥–∏–π –∏–Ω—Ç–µ—Ä—å–µ—Ä –∑–∞–ª–æ–≤ (–∑–¥–∞–Ω–∏–µ –≥–∏–º–Ω–∞–∑–∏–∏ - –ø–∞–º—è—Ç–Ω–∏–∫ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –†–æ—Å—Å–∏–∏ –•–ì–•–≤.), - —è –Ω–µ —á—É—Ä–∞—é—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –°–∏–Ω—Ç–µ–∑ –ª—É—á—à–∏—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —á–µ—Ä—Ç –ø—Ä–æ—à–ª–æ–≥–æ –∏ –∂–µ—Å—Ç–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–Ω—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤–æ –≤–Ω–µ—à–Ω–µ–º –æ–±–ª–∏–∫–µ –∑–¥–∞–Ω–∏—è, –Ω–æ –∏ –≤–æ –≤—Å–µ—Ö —Å—Ñ–µ—Ä–∞—Ö –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è. –í–æ–∑—å–º–µ–º, –∫ –ø—Ä–∏–º–µ—Ä—É, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —É—á–µ–±–Ω—ã–π –ø–ª–∞–Ω. –í –Ω–µ–º —Ä–∏—Ç–æ—Ä–∏–∫–∞, –ª–∞—Ç–∏–Ω—Å–∫–∏–π —è–∑—ã–∫, –ª–æ–≥–∏–∫–∞, —ç—Ç–∏–∫–µ—Ç, –±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã, —Ö–æ—Ä–æ–≤–æ–µ –ø–µ–Ω–∏–µ, –ø–µ—Ä–µ–ø–ª–µ—Ç–Ω–æ–µ –¥–µ–ª–æ —É–∂–∏–≤–∞—é—Ç—Å—è —Å –≤–ø–æ–ª–Ω–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏: –ø—Å–∏—Ö–æ–ª–æ–≥–∏–µ–π –æ–±—â–µ–Ω–∏—è, —Å–æ—Ü–∏–æ–ª–æ–≥–∏–µ–π, –¥–µ–ª–æ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º - –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –Ø, –≥–∏–º–Ω–∞–∑–∏—è, –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–∏—Ü–µ–π –º–æ–¥. –ù–∞ –º–µ–Ω—è —Ä–∞–≤–Ω—è–ª–∏—Å—å, –º–Ω–µ –∑–∞–≤–∏–¥–æ–≤–∞–ª–∏, –º–Ω–æ—é –≤–æ—Å—Ö–∏—â–∞–ª–∏—Å—å... –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≥–∏–º–Ω–∞–∑–∏—Å—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è: —Å—Ç—Ä–æ–≥–∞—è —Ñ–æ—Ä–º–∞, –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–µ –º–∞–Ω–µ—Ä—ã, –æ–¥—É—Ö–æ—Ç–≤–æ—Ä–µ–Ω–Ω—ã–µ –ª–∏—Ü–∞. –≠—Ç–æ –∫—Ä–∞—Å–∞, –≥–æ—Ä–¥–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–¥–∞ –∑–µ–º–ª–∏ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π!"
    await call.message.reply(text=text, reply_markup=keyboards.aboutme_2)

@dp.callback_query_handler(text='aboutme_2:continue_aboutme_2')
async def continue_2(call: CallbackQuery):
    text = f"–í—ã —Å–ø—Ä–æ—Å–∏—Ç–µ, –∫–∞–∫ –º–Ω–µ —É–¥–∞–µ—Ç—Å—è –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –Ω–∞ –≤—ã—Å–æ—Ç–µ? –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ. –£ –∏—Å—Ç–æ–∫–æ–≤ –º–æ–µ–π –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å—Ç–æ—è–ª–∏ —Ç–∞–∫–∏–µ –º—ç—Ç—Ä—ã, –∫–∞–∫ –ò. –£–ª—å—è–Ω–æ–≤, –í. –ë–µ–ª–∏–Ω—Å–∫–∏–π, –ò. –õ–∞–∂–µ—á–Ω–∏–∫–æ–≤, –≤–æ–∑–≥–ª–∞–≤–ª—è–≤—à–∏–π –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π –∫–æ–ª–ª–µ–∫—Ç–∏–≤. –ì–∏–º–Ω–∞–∑–∏—è –∏ —Å–µ–≥–æ–¥–Ω—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Ö —Å–ª–∞–≤–Ω–æ–µ –¥–µ–ª–æ, —è–≤–ª—è—è—Å—å —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏–µ–π –ø–æ –∞–ø—Ä–æ–±–∏—Ä–æ–≤–∞–Ω–∏—é –ª–∏—á–Ω–æ—Å—Ç–Ω–æ -–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—é, –≤–Ω–µ–¥—Ä—è—è –º–µ—Ç–æ–¥–∏–∫—É —Ä–∞–∑–≤–∏–≤–∞—é—â–µ–≥–æ –æ–±—É—á–µ–Ω–∏—è –ø–æ —Å–∏—Å—Ç–µ–º–µ –î. –≠–ª—å–∫–æ–Ω–∏–Ω–∞-–í. –î–∞–≤—ã–¥–æ–≤–∞. –ù–µ —É–¥–∏–≤–ª—è–π—Ç–µ—Å—å, —á—Ç–æ –º–Ω–æ–≥–æ–µ –∏–∑ –ª—É—á—à–µ–≥–æ, —á—Ç–æ –µ—Å—Ç—å –≤ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π –≥—É–±–µ—Ä–Ω–∏–∏, –≤–ø–µ—Ä–≤—ã–µ –ø–æ—è–≤–∏–ª–æ—Å—å –∏–º–µ–Ω–Ω–æ —É –Ω–∞—Å: –ü–æ–ø–µ—á–∏—Ç–µ–ª—å—Å–∫–∏–π —Å–æ–≤–µ—Ç, –ª–µ—Ç–æ–ø–∏—Å—å –ø–æ–ø–µ—á–∏—Ç–µ–ª–µ–π, –°–æ–≤–µ—Ç –≥–∏–º–Ω–∞–∑–∏–∏, –°–æ–≤–µ—Ç –±–∞–±—É—à–µ–∫, –¥–Ω–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–≤–µ—Ä–µ–π, —É—á–∞—Å—Ç–∏–µ –≤ —Ç–µ–ª–µ–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã—Ö –æ–ª–∏–º–ø–∏–∞–¥–∞—Ö –∏ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–µ–∫—Ç–∞—Ö... –ü–æ—Ä—ã–≤, –¥–µ—Ä–∑–Ω–æ–≤–µ–Ω–∏–µ, –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞, –ø–æ–ª–Ω–∞—è —Å–∞–º–æ–æ—Ç–¥–∞—á–∏, -—Ç–∞–∫ —Ä–æ–∂–¥–∞–µ—Ç—Å—è –æ—Å–æ–±–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞, –ø—Ä–æ–±—É–∂–¥–∞—é—â–∞—è –≤ –≥–∏–º–Ω–∞–∑–∏—Å—Ç–∞—Ö –∏ –∏—Ö –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞—Ö –∂–∞–∂–¥—É –∑–Ω–∞–Ω–∏—è –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞. –ú–Ω–µ –≤—Å–µ–≥–¥–∞ –≤–µ–∑–ª–æ –Ω–∞ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤. –ò—Ö –∑–∞—Å–ª—É–≥–∏ –∏ —Ç–∏—Ç—É–ª—ã –º–æ–∂–Ω–æ –ø–µ—Ä–µ—á–∏—Å–ª—è—Ç—å –¥–æ–ª–≥–æ. –≠—Ç–æ –∏ ¬´–Ω–µ–∏—Å—Ç–æ–≤—ã–π¬ª –í–∏—Å—Å–∞—Ä–∏–æ–Ω, –∏ —Ñ–∏–ª–æ–ª–æ–≥ –ë—É—Å–ª–∞–µ–≤, –º–∞—Ä—à–∞–ª –¢—É—Ö–∞—á–µ–≤—Å–∫–∏–π, —É—á–µ–Ω—ã–µ, —Ö—É–¥–æ–∂–Ω–∏–∫–∏, –ø–∏—Å–∞—Ç–µ–ª–∏, –º—É–∑—ã–∫–∞–Ω—Ç—ã, –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–µ—è—Ç–µ–ª–∏.... –°–µ–≥–æ–¥–Ω—è —ç—Ç–æ—Ç —Ä—è–¥ –ø–æ–ø–æ–ª–Ω—è–µ—Ç—Å—è –≥–æ–¥ –æ—Ç –≥–æ–¥–∞. –ù–∞ –ó–≤–µ–∑–¥–Ω–æ–π –∫–∞—Ä—Ç–µ –≥–∏–º–Ω–∞–∑–∏–∏ –∑–∞–∂–∏–≥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –∏–º–µ–Ω–∞: –ø–æ—ç—Ç–µ—Å—Å–∞ –Ø—à–∏–Ω–∞, —á–ª–µ–Ω-–∫–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç –†–ê–ù –î–º–∏—Ç—Ä–∏–µ–≤, –ª–∞—É—Ä–µ–∞—Ç —á–µ—Ç—ã—Ä–µ—Ö –ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø—Ä–µ–º–∏–π –Æ.–ú. –ü–æ–ø–æ–≤ –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ. –ö–æ–Ω–µ—á–Ω–æ, —ç—Ç–æ –ª–∏—à—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—É—Ö–∏–µ —Ñ–∞–∫—Ç—ã –±–∏–æ–≥—Ä–∞—Ñ–∏–∏, –∞ –¥—É—à–∞ –º–æ—è - –≤ –º–æ–∏—Ö –≤–æ—Å–ø–∏—Ç–∞–Ω–Ω–∏–∫–∞—Ö, –≤ –º–æ–µ–π –∏—Å—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤–æ—Ç —É–∂–µ –±–æ–ª—å—à–µ –¥–≤—É—Ö—Å–æ—Ç –ª–µ—Ç. –ü—Ä–æ—à—É –ª—é–±–∏—Ç—å –∏ –∂–∞–ª–æ–≤–∞—Ç—å! <b>–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –≥–∏–º–Ω–∞–∑–∏—è ‚Ññ1 –∏–º–µ–Ω–∏ –í.–ì. –ë–µ–ª–∏–Ω—Å–∫–æ–≥–æ, –≥. –ü–µ–Ω–∑–∞.</b> –ü—Ä–∏–µ–∑–∂–∞–π—Ç–µ, –ø—Ä–∏—Ö–æ–¥–∏—Ç–µ, –∏ –≤—Å–µ —É–≤–∏–¥–∏—Ç–µ —Å–∞–º–∏!"
    await call.message.edit_text(text=text, reply_markup=keyboards.aboutme_3)

@dp.callback_query_handler(text='aboutme_3:prev')
async def backto_2(call: CallbackQuery):
    text = f"–°–æ—Ö—Ä–∞–Ω—è—è –≤–Ω–µ—à–Ω–∏–µ —á–µ—Ä—Ç—ã –º–∏–Ω—É–≤—à–µ–≥–æ - —Å–≤–æ–¥—á–∞—Ç—ã–µ –æ–∫–Ω–∞ –∏ –ø–æ—Ç–æ–ª–∫–∏, –∫–æ–≤–∞–Ω–∞—è, —Å –∑–∞—Ç–µ–π–ª–∏–≤—ã–º–∏ —É–∑–æ—Ä–∞–º–∏, –ø–∞—Ä–∞–¥–Ω–∞—è –ª–µ—Å—Ç–Ω–∏—Ü–∞, —Å—Ç—Ä–æ–≥–∏–π –∏–Ω—Ç–µ—Ä—å–µ—Ä –∑–∞–ª–æ–≤ (–∑–¥–∞–Ω–∏–µ –≥–∏–º–Ω–∞–∑–∏–∏ - –ø–∞–º—è—Ç–Ω–∏–∫ –∏—Å—Ç–æ—Ä–∏–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –†–æ—Å—Å–∏–∏ –•–ì–•–≤.), - —è –Ω–µ —á—É—Ä–∞—é—Å—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞. –°–∏–Ω—Ç–µ–∑ –ª—É—á—à–∏—Ö –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —á–µ—Ä—Ç –ø—Ä–æ—à–ª–æ–≥–æ –∏ –∂–µ—Å—Ç–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–Ω—è —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤–æ –≤–Ω–µ—à–Ω–µ–º –æ–±–ª–∏–∫–µ –∑–¥–∞–Ω–∏—è, –Ω–æ –∏ –≤–æ –≤—Å–µ—Ö —Å—Ñ–µ—Ä–∞—Ö –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è. –í–æ–∑—å–º–µ–º, –∫ –ø—Ä–∏–º–µ—Ä—É, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —É—á–µ–±–Ω—ã–π –ø–ª–∞–Ω. –í –Ω–µ–º —Ä–∏—Ç–æ—Ä–∏–∫–∞, –ª–∞—Ç–∏–Ω—Å–∫–∏–π —è–∑—ã–∫, –ª–æ–≥–∏–∫–∞, —ç—Ç–∏–∫–µ—Ç, –±–∞–ª—å–Ω—ã–µ —Ç–∞–Ω—Ü—ã, —Ö–æ—Ä–æ–≤–æ–µ –ø–µ–Ω–∏–µ, –ø–µ—Ä–µ–ø–ª–µ—Ç–Ω–æ–µ –¥–µ–ª–æ —É–∂–∏–≤–∞—é—Ç—Å—è —Å –≤–ø–æ–ª–Ω–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏: –ø—Å–∏—Ö–æ–ª–æ–≥–∏–µ–π –æ–±—â–µ–Ω–∏—è, —Å–æ—Ü–∏–æ–ª–æ–≥–∏–µ–π, –¥–µ–ª–æ–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º - –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞–Ω–∏–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –Ø, –≥–∏–º–Ω–∞–∑–∏—è, –≤—Å–µ–≥–¥–∞ –±—ã–ª–∞ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–∏—Ü–µ–π –º–æ–¥. –ù–∞ –º–µ–Ω—è —Ä–∞–≤–Ω—è–ª–∏—Å—å, –º–Ω–µ –∑–∞–≤–∏–¥–æ–≤–∞–ª–∏, –º–Ω–æ—é –≤–æ—Å—Ö–∏—â–∞–ª–∏—Å—å... –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ –≥–∏–º–Ω–∞–∑–∏—Å—Ç–æ–≤ —Å–µ–≥–æ–¥–Ω—è: —Å—Ç—Ä–æ–≥–∞—è —Ñ–æ—Ä–º–∞, –∏–∑—ã—Å–∫–∞–Ω–Ω—ã–µ –º–∞–Ω–µ—Ä—ã, –æ–¥—É—Ö–æ—Ç–≤–æ—Ä–µ–Ω–Ω—ã–µ –ª–∏—Ü–∞. –≠—Ç–æ –∫—Ä–∞—Å–∞, –≥–æ—Ä–¥–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–¥–∞ –∑–µ–º–ª–∏ –ü–µ–Ω–∑–µ–Ω—Å–∫–æ–π!"
    await call.message.edit_text(text=text, reply_markup=keyboards.aboutme_2)


@dp.message_handler(commands=['subscribe'])
async def subscribe(message: types.Message):
    if (not db.subscriber_exists(message.from_user.id)):
        db.add_subscriber(message.from_user.id)
    else:
        db.update_subscription(message.from_user.id, True)
    await message.answer('‚úÖ –í—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫—É!')

@dp.message_handler(commands=['unsubscribe'])
async def unsubscribe(message: types.Message):
    if (not db.subscriber_exists(message.from_user.id)):
        db.add_subscriber(message.from_user.id, False)
        await message.answer('–í—ã –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω—ã')
    else:
        db.update_subscription(message.from_user.id, False)
        await message.answer('‚ùå –í—ã –æ—Ç–ø–∏—Å–∞–ª–∏—Å—å –æ—Ç —Ä–∞—Å—Å—ã–ª–∫–∏')


@dp.message_handler(content_types=['text'])
async def any_text(message):
    answer = f'–ú–µ–Ω—è –Ω–µ –Ω–∞—É—á–∏–ª–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Ç–∞–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è üò¢\n–ï—Å–ª–∏ –í—ã —Ö–æ—Ç–∏—Ç–µ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ /start'
    await message.answer(answer)